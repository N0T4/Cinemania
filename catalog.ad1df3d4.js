var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},o={},n=e.parcelRequired7c6;null==n&&((n=function(e){if(e in t)return t[e].exports;if(e in o){var n=o[e];delete o[e];var r={id:e,exports:{}};return t[e]=r,n.call(r.exports,r,r.exports),r.exports}var i=Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){o[e]=t},e.parcelRequired7c6=n);var r={};r=(function e(t,o,n){function r(a,l){if(!o[a]){if(!t[a]){var c=void 0;if(!l&&c)return c(a,!0);if(i)return i(a,!0);var s=Error("Cannot find module '"+a+"'");throw s.code="MODULE_NOT_FOUND",s}var d=o[a]={exports:{}};t[a][0].call(d.exports,function(e){return r(t[a][1][e]||e)},d,d.exports,e,t,o,n)}return o[a].exports}for(var i=void 0,a=0;a<n.length;a++)r(n[a]);return r})({1:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.create=o.visible=void 0;var n=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=document.createElement("div");return o.innerHTML=e.trim(),!0===t?o.children:o.firstChild},r=function(e,t){var o=e.children;return 1===o.length&&o[0].tagName===t},i=function(e){return null!=(e=e||document.querySelector(".basicLightbox"))&&!0===e.ownerDocument.body.contains(e)};o.visible=i,o.create=function(e,t){var o=function(e,t){var o=n('\n		<div class="basicLightbox '.concat(t.className,'">\n			<div class="basicLightbox__placeholder" role="dialog"></div>\n		</div>\n	')),i=o.querySelector(".basicLightbox__placeholder");e.forEach(function(e){return i.appendChild(e)});var a=r(i,"IMG"),l=r(i,"VIDEO"),c=r(i,"IFRAME");return!0===a&&o.classList.add("basicLightbox--img"),!0===l&&o.classList.add("basicLightbox--video"),!0===c&&o.classList.add("basicLightbox--iframe"),o}(e=function(e){var t="string"==typeof e,o=e instanceof HTMLElement==1;if(!1===t&&!1===o)throw Error("Content must be a DOM element/node or string");return!0===t?Array.from(n(e,!0)):"TEMPLATE"===e.tagName?[e.content.cloneNode(!0)]:Array.from(e.children)}(e),t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(null==(e=Object.assign({},e)).closable&&(e.closable=!0),null==e.className&&(e.className=""),null==e.onShow&&(e.onShow=function(){}),null==e.onClose&&(e.onClose=function(){}),"boolean"!=typeof e.closable)throw Error("Property `closable` must be a boolean");if("string"!=typeof e.className)throw Error("Property `className` must be a string");if("function"!=typeof e.onShow)throw Error("Property `onShow` must be a function");if("function"!=typeof e.onClose)throw Error("Property `onClose` must be a function");return e}(t)),a=function(e){var n;return!1!==t.onClose(l)&&(n=function(){if("function"==typeof e)return e(l)},o.classList.remove("basicLightbox--visible"),setTimeout(function(){return!1===i(o)||o.parentElement.removeChild(o),n()},410),!0)};!0===t.closable&&o.addEventListener("click",function(e){e.target===o&&a()});var l={element:function(){return o},visible:function(){return i(o)},show:function(e){var n;return!1!==t.onShow(l)&&(n=function(){if("function"==typeof e)return e(l)},document.body.appendChild(o),setTimeout(function(){requestAnimationFrame(function(){return o.classList.add("basicLightbox--visible"),n()})},10),!0)},close:a};return l}},{}]},{},[1])(1);var i=n("2shzp");async function a(e){try{return await (0,i.default).get(`https://api.themoviedb.org/3/movie/${e}/videos?api_key=6e7395deda2e604f560655560f8c78bd&language=en-US`)}catch(e){console.error(e)}}const l=document.querySelector(".error-modal"),c=document.querySelector(".close-error");c.addEventListener("click",function(){l.style.display="none"});var i=n("2shzp");async function s(){try{let e=await (0,i.default).get("https://api.themoviedb.org/3/trending/all/day?language=en-US&api_key=6172d89f6dff35bbab361edfaaecc13a");return e.data}catch(e){console.error(e)}}var d=n("29qIp");console.log("getTrailer from trailer js",a);const u=document.querySelector(".hero"),m=document.querySelector(".button-js");function h(){let e=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,t=document.getElementById("cinema-text");null!==t&&(e>=768?t.textContent="Is a guide to creating a personalized movie theater experience. You'll need a projector, screen, and speakers. Decorate your space, choose your films, and stock up on snacks for the full experience.":t.textContent="Is a guide to creating a personalized movie theater experience. You'll need a projector, screen, and speakers.")}window.addEventListener("resize",h),m.addEventListener("click",()=>{window.location.href="library.html"}),s().then(e=>{0===e.results.length?h():window.location.href.includes("library")?function(){if(window.location.href.includes("library")){u.innerHTML="",u.classList.add("hero-library");let e=`
      <div class="hero-wrapper">
          <div class="hero-wrapper-text library-hero-wrapper-text">
              <h1 class="title">Create Your Dream Cinema</h1>
              <p class="text">Is a guide to designing a personalized movie theater experience with the right equipment, customized decor, and favorite films. This guide helps you bring the cinema experience into your own home with cozy seating, dim lighting, and movie theater snacks.</p>
          </div>
      </div>
    `;u.innerHTML=e}}():function({results:e}){let t=Math.floor(Math.random()*(e.length-1)),o=e[t];u.innerHTML="",u.style.backgroundImage=`linear-gradient(86.77deg, #111111 30.38%, rgba(17, 17, 17, 0) 65.61%), url(https://image.tmdb.org/t/p/original${o.backdrop_path})`;let n=`
    <div class="hero-wrapper">
        <div class="hero-wrapper-text">
            <h1 class="title">${o.original_title||o.name}</h1>
            <div id="rating-stars"></div>
            <p class="text">${o.overview.slice(0,250)+"..."}</p>
        </div>
        <div class="hero-btn-wrapper" data-id=${o.id}>
            <button type="button" class="button hero-btn hero-button-js">Watch trailer</button>
            <button type="button" class="button button-js modal-btn">More details</button>
        </div>
    </div>
  `;u.innerHTML=n,u.classList.add("hero-js"),function(e){let t='<div class="star filled-star" style="width: '+e/10*100+'%;">';t+="&#9733;".repeat(5)+"</div>";let o=document.getElementById("rating-stars");o.innerHTML=t}(o.vote_average);let i=document.querySelector(".hero-button-js"),l=!1;i.addEventListener("click",()=>{l||(l=!0,a(o.id).then(e=>{(function({data:e}){let t=document.querySelector(".hero-button-js");console.log("function watch trailer:",e);let o=e.results;if(0!==o.length){console.log("если не равно нулю",o);let e=Math.floor(Math.random()*(o.length-1)),n=o[e];console.log(n),console.log(n.key),t.addEventListener("click",function(){let e=`https://www.youtube.com/embed/${n.key}`;(function(e){let t=r.create(`
    <div class="modal-video">
      <iframe width="560" height="315" src="${e}" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>
    </div>
      `,{onShow:e=>{e.element().querySelector("iframe").setAttribute("allow","autoplay; encrypted-media")}});t.show()})(e)})}})(e)}).catch(()=>{let e=document.querySelector(".error-modal");e.classList.remove("visually-hidden"),l=!1}))});let c=document.querySelector(".modal-btn");c.addEventListener("click",d.onOpenModal)}(e)}).catch(e=>console.log(e));const f="theme-mode",p=document.querySelector(".theme-switcher");function g(){"light"===localStorage.getItem(f)&&(p.setAttribute("checked",!0),document.body.classList.add("light-theme"))}p.addEventListener("change",function(){"light"===localStorage.getItem(f)?localStorage.removeItem(f):localStorage.setItem(f,"light"),document.body.classList.toggle("light-theme"),g()}),g();const v=document.querySelector(".menu-btn"),b=document.querySelector(".header__menu");function y(e){"BUTTON"!==e.target.nodeName&&"NAV"!==e.target.nodeName&&"LI"!==e.target.nodeName&&(b.classList.remove("active"),document.body.classList.remove("lock"),document.body.removeEventListener("click",y))}v.addEventListener("click",function(){b.classList.add("active"),document.body.classList.add("lock"),document.body.addEventListener("click",y)});const w=document.querySelector("header");window.addEventListener("scroll",function(){window.scrollY>1?w.style.position="fixed":w.style.position="static"});const L=document.getElementById("js-top");window.addEventListener("scroll",()=>{window.scrollY>0?L.className="top-link show":L.className="top-link hide"});const E=()=>{let e=document.documentElement.scrollTop||document.body.scrollTop;e>0&&(window.requestAnimationFrame(E),window.scrollTo(0,e-e/10))};L.onclick=function(e){e.preventDefault(),E()};
//# sourceMappingURL=catalog.ad1df3d4.js.map
