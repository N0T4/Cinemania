{"mappings":"C,A,W,I,E,A,a,O,W,W,A,a,O,K,K,A,a,O,O,O,A,a,O,O,O,C,E,E,C,E,E,C,E,E,E,iB,O,I,A,C,E,S,C,E,G,K,E,O,C,C,E,C,Q,G,K,E,C,I,E,C,C,E,A,Q,C,C,E,C,I,E,C,G,E,Q,C,C,E,O,C,C,E,C,E,E,K,E,Q,E,E,S,E,O,C,I,E,A,M,uB,E,I,O,E,K,mB,C,C,E,S,S,C,C,C,E,C,C,E,C,C,E,E,kB,G,I,E,E,S,E,E,SEGA,IAAM,EAAmB,SAAS,cAAc,uBAE5C,EAAc,KAAK,MAAM,aAAa,QAAQ,eAK9C,GACF,EAAY,QAAQ,AAAA,IAClB,AAAA,CAAA,EAAA,EAAA,eAAA,EAAgB,EAAM,GACtB,EAAiB,iBAAiB,QAAS,EAAA,YAC7C,GEbF,SAAS,cAAc,oBAAoB,iBAAiB,QAAS,WACjE,SAAS,cAAc,kBAAkB,UAAU,OAAO,0BAC1D,IAAI,CAAC,UAAU,IAAI,0BACvB,GAGA,SAAS,iBAAiB,mBAAoB,WAE1C,IAAK,IADD,EAAkB,SAAS,iBAAiB,kBACvC,EAAI,EAAG,EAAI,EAAgB,OAAQ,IAC1C,CAAe,CAAC,EAAE,CAAC,iBAAiB,QAAS,WAC3C,IAAI,EAAW,IAAI,CAAC,QAAQ,YAC5B,CAAA,EAAS,cAAc,oBAAoB,YAAc,IAAI,CAAC,YAC9D,EAAS,cAAc,kBAAkB,MAAM,QAAU,MAC3D,EAEJ,GAKF,SAAS,iBAAiB,QAAS,SAAS,CAAC,EACrC,EAAE,SAAW,SAAS,cAAc,qBACpC,SAAS,cAAc,kBAAkB,UAAU,OAAO,yBAElE,GAGA,SAAS,iBAAiB,UAAW,SAAS,CAAC,EAC7B,WAAV,EAAE,KACF,SAAS,cAAc,kBAAkB,UAAU,OAAO,yBAElE,GAGA,SAAS,iBAAiB,kBAAkB,QAAQ,SAAS,CAAQ,EACjE,EAAS,iBAAiB,QAAQ,SAAS,CAAC,EACxC,EAAE,kBACF,SAAS,cAAc,oBAAoB,UAAY,IAAI,CAAC,UAC5D,SAAS,cAAc,oBAAoB,OAC/C,EACJ,GAGA,IAAM,EAAY,SAAS,iBAAiB,QAC5C,SAAS,cAAc,aAAa,iBAAiB,QAAS,SAAS,CAAC,EACpE,GAAI,AAAqB,OAArB,EAAE,OAAO,QAAkB,MAAO,CAAA,EAEtC,IAAI,EAAc,EAAE,OAAO,QAAQ,EAEnC,EAAU,QAAS,AAAA,IACf,EAAK,UAAU,OAAO,QACjB,EAAK,UAAU,SAAS,IAAgB,AAAc,UAAd,GACzC,EAAK,UAAU,IAAI,OAE3B,EACJ,G,E,Q","sources":["<anon>","src/node-library.js","src/library-save/saved-films/saved.js","src/library-save/load-more/load-more.js","src/library-save/genres/genres.js","src/library-save/add-to-library/add.js"],"sourcesContent":["(function () {\nvar $parcel$global =\ntypeof globalThis !== 'undefined'\n  ? globalThis\n  : typeof self !== 'undefined'\n  ? self\n  : typeof window !== 'undefined'\n  ? window\n  : typeof global !== 'undefined'\n  ? global\n  : {};\nvar $parcel$modules = {};\nvar $parcel$inits = {};\n\nvar parcelRequire = $parcel$global[\"parcelRequired7c6\"];\nif (parcelRequire == null) {\n  parcelRequire = function(id) {\n    if (id in $parcel$modules) {\n      return $parcel$modules[id].exports;\n    }\n    if (id in $parcel$inits) {\n      var init = $parcel$inits[id];\n      delete $parcel$inits[id];\n      var module = {id: id, exports: {}};\n      $parcel$modules[id] = module;\n      init.call(module.exports, module, module.exports);\n      return module.exports;\n    }\n    var err = new Error(\"Cannot find module '\" + id + \"'\");\n    err.code = 'MODULE_NOT_FOUND';\n    throw err;\n  };\n\n  parcelRequire.register = function register(id, init) {\n    $parcel$inits[id] = init;\n  };\n\n  $parcel$global[\"parcelRequired7c6\"] = parcelRequire;\n}\n\nvar $eswKy = parcelRequire(\"eswKy\");\n\nvar $3hX9w = parcelRequire(\"3hX9w\");\nconst $86860ae1d74e1a59$var$myLibraryElement = document.querySelector(\".my-library-section\");\nlet $86860ae1d74e1a59$var$storedFilms = JSON.parse(localStorage.getItem(\"my library\"));\n// function createMyLibraryCatalog(savedFilms, parentElement) {\n//   savedFilms.map(film => {});\n// }\nif ($86860ae1d74e1a59$var$storedFilms) $86860ae1d74e1a59$var$storedFilms.forEach((film)=>{\n    (0, $eswKy.renderPhotoCard)(film, $86860ae1d74e1a59$var$myLibraryElement);\n    $86860ae1d74e1a59$var$myLibraryElement.addEventListener(\"click\", (0, $3hX9w.onOpenModal));\n});\n\n\nasync function $3fe2493e93750f0d$var$onClickBtnLoadMore() {\n    page += 1;\n    let request = refs.form.elements.searchQuery.value.trim();\n    try {\n        const galleryItems = await fetchImages(request, page);\n        let showPages = galleryItems.data.totalHits / perPage;\n        if (showPages <= page) {\n            hideBtnLoadMore();\n            Notify.failure(\"We're sorry, but you've reached the end of search results.\");\n        }\n        renderGalleryMarkup(galleryItems.data.hits);\n    } catch (error) {\n        Notify.failure(\"Sorry, there are no films added in your favourites. Please try again.\");\n    }\n    lightbox.refresh();\n}\n\n\n// Открытие жанров\ndocument.querySelector(\".dropdown_button\").addEventListener(\"click\", function() {\n    document.querySelector(\".dropdown_list\").classList.toggle(\"dropdown_list--visible\");\n    this.classList.add(\"dropdown_button--active\");\n});\n// Закрытие когда выбираешь что-то из списка\ndocument.addEventListener(\"DOMContentLoaded\", function() {\n    var dropdownOptions = document.querySelectorAll(\".dropdown_item\");\n    for(var i = 0; i < dropdownOptions.length; i++)dropdownOptions[i].addEventListener(\"click\", function() {\n        var dropdown = this.closest(\".dropdown\");\n        dropdown.querySelector(\".dropdown_button\").textContent = this.textContent;\n        dropdown.querySelector(\".dropdown_list\").style.display = \"none\";\n    });\n});\n// Закрытие на клик в другой области\ndocument.addEventListener(\"click\", function(e) {\n    if (e.target !== document.querySelector(\".dropdown_button\")) document.querySelector(\".dropdown_list\").classList.remove(\"dropdown_list--visible\");\n});\n// Закрытие на кнопку Esc\ndocument.addEventListener(\"keydown\", function(e) {\n    if (e.key === \"Escape\") document.querySelector(\".dropdown_list\").classList.remove(\"dropdown_list--visible\");\n});\n// Замена строки Genre на ВЫБРАННУЮ\ndocument.querySelectorAll(\".dropdown_item\").forEach(function(listItem) {\n    listItem.addEventListener(\"click\", function(e) {\n        e.stopPropagation();\n        document.querySelector(\".dropdown_button\").innerText = this.innerText;\n        document.querySelector(\".dropdown_button\").focus();\n    });\n});\n// Сортировка по жанрам \nconst $192a0884879edebd$var$filterBox = document.querySelectorAll(\".box\");\ndocument.querySelector(\".dropdown\").addEventListener(\"click\", function(e) {\n    if (e.target.tagName !== \"LI\") return false;\n    let filterClass = e.target.dataset[\"f\"];\n    $192a0884879edebd$var$filterBox.forEach((elem)=>{\n        elem.classList.remove(\"hide\");\n        if (!elem.classList.contains(filterClass) && filterClass !== \"genre\") elem.classList.add(\"hide\");\n    });\n});\n\n\n\n\nparcelRequire(\"j0U4W\");\n\n})();\n//# sourceMappingURL=library.e6db63ca.js.map\n","import './library-save/saved-films/saved.js';\nimport './library-save/load-more/load-more.js';\nimport './library-save/genres/genres.js';\nimport './library-save/add-to-library/add.js';\nimport './main-blocks/footer/footer.js';\n","import { renderPhotoCard } from '../../common/card/card.js';\nimport { onOpenModal } from '../../common/modal/film-overview/overview.js';\n\nconst myLibraryElement = document.querySelector('.my-library-section');\n\nlet storedFilms = JSON.parse(localStorage.getItem('my library'));\n\n// function createMyLibraryCatalog(savedFilms, parentElement) {\n//   savedFilms.map(film => {});\n// }\nif (storedFilms) {\n  storedFilms.forEach(film => {\n    renderPhotoCard(film, myLibraryElement);\n    myLibraryElement.addEventListener('click', onOpenModal);\n  });\n}\n","async function onClickBtnLoadMore() {\n    page += 1;\n    let request = refs.form.elements.searchQuery.value.trim();\n  \n    try {\n      const galleryItems = await fetchImages(request, page);\n      let showPages = galleryItems.data.totalHits / perPage;\n  \n      if (showPages <= page) {\n        hideBtnLoadMore();\n        Notify.failure(\n          \"We're sorry, but you've reached the end of search results.\"\n        );\n      }\n  \n      renderGalleryMarkup(galleryItems.data.hits);\n    } catch (error) {\n      Notify.failure(\n        'Sorry, there are no films added in your favourites. Please try again.'\n      );\n    }\n    lightbox.refresh();\n  }","// Открытие жанров\ndocument.querySelector('.dropdown_button').addEventListener('click', function() {\n    document.querySelector('.dropdown_list').classList.toggle('dropdown_list--visible');\n    this.classList.add('dropdown_button--active');\n});\n\n// Закрытие когда выбираешь что-то из списка\ndocument.addEventListener(\"DOMContentLoaded\", function() {\n    var dropdownOptions = document.querySelectorAll(\".dropdown_item\");\n    for (var i = 0; i < dropdownOptions.length; i++) {\n      dropdownOptions[i].addEventListener(\"click\", function() {\n        var dropdown = this.closest(\".dropdown\");\n        dropdown.querySelector(\".dropdown_button\").textContent = this.textContent;\n        dropdown.querySelector(\".dropdown_list\").style.display = \"none\";\n      });\n    }\n  });\n\n\n\n// Закрытие на клик в другой области\ndocument.addEventListener('click', function(e){\n    if (e.target !== document.querySelector('.dropdown_button')) {\n        document.querySelector('.dropdown_list').classList.remove('dropdown_list--visible');\n    }\n})\n\n// Закрытие на кнопку Esc\ndocument.addEventListener('keydown', function(e){\n    if (e.key === 'Escape') {\n        document.querySelector('.dropdown_list').classList.remove('dropdown_list--visible');\n    }\n})\n\n// Замена строки Genre на ВЫБРАННУЮ\ndocument.querySelectorAll('.dropdown_item').forEach(function(listItem){\n    listItem.addEventListener('click',function(e){\n        e.stopPropagation();\n        document.querySelector('.dropdown_button').innerText = this.innerText;\n        document.querySelector('.dropdown_button').focus();\n    })\n})\n\n// Сортировка по жанрам \nconst filterBox = document.querySelectorAll('.box');\ndocument.querySelector('.dropdown').addEventListener('click', function(e) {\n    if (e.target.tagName !== 'LI') return false;\n\n    let filterClass = e.target.dataset['f'];\n    \n    filterBox.forEach( elem => {\n        elem.classList.remove('hide');\n        if (!elem.classList.contains(filterClass) && filterClass!=='genre') {\n            elem.classList.add('hide');\n        }\n    })\n})\n",""],"names":["$parcel$global","globalThis","self","window","global","$parcel$modules","$parcel$inits","parcelRequire","id","exports","init","module","call","err","Error","code","register","$eswKy","$3hX9w","$86860ae1d74e1a59$var$myLibraryElement","document","querySelector","$86860ae1d74e1a59$var$storedFilms","JSON","parse","localStorage","getItem","forEach","film","renderPhotoCard","addEventListener","onOpenModal","classList","toggle","add","dropdownOptions","querySelectorAll","i","length","dropdown","closest","textContent","style","display","e","target","remove","key","listItem","stopPropagation","innerText","focus","$192a0884879edebd$var$filterBox","tagName","filterClass","dataset","elem","contains"],"version":3,"file":"library.e6db63ca.js.map"}