{"mappings":"AAAA,MAAMA,EAAYC,SAASC,cAAc,oBACnCC,EAAgBF,SAASC,cAAc,oBACvCE,EAAaH,SAASC,cAAc,gBACpCG,EAAcJ,SAASC,cAAc,kBACrCI,EAASL,SAASM,KACxBC,QAAQC,IAAIH,GAEZN,EAAUU,iBAAiB,SAG3B,SAAqBC,GACnB,MAAMC,EAAWD,EAAEE,OAEbC,EADOF,EAASG,cACNC,QAAQF,GAIxB,GAHAN,QAAQC,IAAIK,GAmCd,SAAuBA,GASrBG,MAAM,sCAAsCH,IAR5B,CACdI,OAAQ,MACRC,QAAS,CACPC,OAAQ,mBACRC,cACE,gOAIHC,MAAKC,IACJ,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASG,QAE3B,OAAOH,EAASI,MAAM,IAEvBL,MAAKC,GAwDV,SAAyBK,GACvBvB,EAAYwB,UAAYD,C,CAvDbE,CAKb,UAA+BC,OAC7BA,EAAMC,SACNA,EAAQC,YACRA,EAAWC,WACXA,EAAUC,aACVA,EAAYC,WACZA,EAAUC,MACVA,IAuCA,MArCe,+HAGiCJ,wBAC/BI,8HAIkBA,uNAKSF,sHAEIC,kMAKJF,oKAIAH,8IAILC,gS,CA3CpBM,CAAsBf,MAGtCgB,OAAMC,GAAOhC,QAAQiC,MAAMD,I,CAtD9BE,CAAc5B,IAETV,EAAWuC,UAAUC,SAAS,aACjC,OAGAxC,EAAWuC,UAAUE,OAAO,aAC5BvC,EAAOqC,UAAUG,IAAI,aAevB1C,EAAWM,iBAAiB,SAN5B,SAASqC,EAAgBC,GACnBA,EAAEnC,OAAO8B,UAAUC,SAAS,iBAC9BxC,EAAWuC,UAAUG,IAAI,aACzB1C,EAAW6C,oBAAoB,QAASF,G,IAI5CG,OAAOxC,iBAAiB,WAdxB,SAASyC,EAAWH,GACH,WAAXA,EAAEI,OACJhD,EAAWuC,UAAUG,IAAI,aACzBI,OAAOD,oBAAoB,UAAWE,G,OAnB5ChD,EAAcO,iBAAiB,SAiC/B,SAAsBsC,GACpB,GAAI5C,EAAWuC,UAAUC,SAAS,aAChC,OAEAxC,EAAWuC,UAAUG,IAAI,aACzBxC,EAAOqC,UAAUE,OAAO,Y,IC9C5B,IAAIQ,GAAS,EAESpD,SAASC,cAAc,mBAC/BQ,iBAAiB,UAE/B,WACET,SAASM,KAAKoC,UAAUW,OAAO,eAC/BD,GAAUA,C,ICPZ,MAAME,EAAUtD,SAASC,cAAc,aACjCsD,EAAavD,SAASC,cAAc,iBAU1C,SAASuD,EAAYT,GACO,WAAtBA,EAAEnC,OAAO6C,UAGa,QAAtBV,EAAEnC,OAAO6C,UAA4C,OAAtBV,EAAEnC,OAAO6C,WAC1CF,EAAWb,UAAUE,OAAO,UAC5B5C,SAASM,KAAKoC,UAAUE,OAAO,QAC/B5C,SAASM,KAAK0C,oBAAoB,QAASQ,G,CAf/CF,EAAQ7C,iBAAiB,SAEzB,WACE8C,EAAWb,UAAUG,IAAI,UACzB7C,SAASM,KAAKoC,UAAUG,IAAI,QAC5B7C,SAASM,KAAKG,iBAAiB,QAAS+C,E","sources":["src/common/modal/film-overview/overview.js","src/common/theme-switching.js","src/main-blocks/header/header.js"],"sourcesContent":["const catalogEl = document.querySelector('.catalog-section');\nconst buttonCloseEl = document.querySelector('.modal-close-btn');\nconst backdropEl = document.querySelector('.js-backdrop');\nconst modalBodyEl = document.querySelector('.js-modal-body');\nconst bodyEl = document.body;\nconsole.log(bodyEl);\n\ncatalogEl.addEventListener('click', onOpenModal);\nbuttonCloseEl.addEventListener('click', onCloseModal);\n\nfunction onOpenModal(e) {\n  const targetEl = e.target;\n  const idEl = targetEl.parentElement;\n  const id = idEl.dataset.id;\n  console.log(id);\n  onGetInfoFilm(id);\n\n  if (!backdropEl.classList.contains('is-hidden')) {\n    return;\n    }\n\n    backdropEl.classList.remove('is-hidden');\n    bodyEl.classList.add('no-scroll');\n\n  function onCloseEsc(e) {\n    if (e.code === 'Escape') {\n      backdropEl.classList.add('is-hidden');\n      window.removeEventListener('keydown', onCloseEsc);\n    }\n  }\n\n  function onCloseBackdrop(e) {\n    if (e.target.classList.contains('js-backdrop')) {\n      backdropEl.classList.add('is-hidden');\n      backdropEl.removeEventListener('click', onCloseBackdrop);\n    }\n  }\n  backdropEl.addEventListener('click', onCloseBackdrop);\n  window.addEventListener('keydown', onCloseEsc);\n}\n\nfunction onCloseModal(e) {\n  if (backdropEl.classList.contains('is-hidden')) {\n    return;\n  }\n    backdropEl.classList.add('is-hidden');\n    bodyEl.classList.remove('no-scroll');\n}\n\nfunction onGetInfoFilm(id) {\n  const options = {\n    method: 'GET',\n    headers: {\n      accept: 'application/json',\n      Authorization:\n        'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI1Y2VmZjE2NGZkZTljYjA3ZjFkZmVlMzg5NTI2ZTNlNyIsInN1YiI6IjY0N2NmMWU1MGZiMzk4MDExODBlMDI1MiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.JmAvfE0gWZjEB37-xgrPZ-zzGTupZmQSUJnDzhkVL-U',\n    },\n  };\n  fetch(`https://api.themoviedb.org/3/movie/${id}`, options)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .then(response => {\n      const markup = createMarkupCardModal(response);\n      return updateCardModal(markup);\n    })\n    .catch(err => console.error(err));\n}\n\nfunction createMarkupCardModal({\n  genres,\n  overview,\n  poster_path,\n  popularity,\n  vote_average,\n  vote_count,\n  title,\n}) {\n  const markup = `<div class=\"film-wrapper\">\n          <img\n            class=\"film-image\"\n            src=\"https://image.tmdb.org/t/p/w500${poster_path}\"\n            alt=\"${title}\"\n            loading=\"lazy\"\n          />\n          <div class=\"film-information\">\n            <h2 class=\"film-title\">${title}</h2>\n            <ul>\n              <li class=\"film-item\">\n                <p class=\"film-details\">Vote / Votes</p>\n                <p class=\"film-info--upper\">\n                  <span class=\"film-rating\">${vote_average}</span>\n                  <span class=\"film-divider\"> / </span>\n                  <span class=\"film-vote-count\">${vote_count}</span>\n                </p>\n              </li>\n              <li class=\"film-item\">\n                <p class=\"film-details\">Popularity</p>\n                <p class=\"film-info--upper\">${popularity}</p>\n              </li>\n              <li class=\"film-item\">\n                <p class=\"film-details\">Genre</p>\n                <p class=\"film-info--upper\">${genres}</p>\n              </li>\n            </ul>\n            <h3 class=\"film-about-title\">ABOUT</h3>\n            <p class=\"film-about-text\">${overview}</p>\n            <button type=\"button\" class=\"film-button js-watch\">\n              Add to my library\n            </button>\n            <button type=\"button\" class=\"film-button js-watch\">\n              Remove from my library\n            </button>\n          </div>\n        </div>`;\n  return markup;\n}\n\nfunction updateCardModal(markup) {\n  modalBodyEl.innerHTML = markup;\n}\n","let isDark = true;\n\nconst themeSwitcher = document.querySelector('.theme-switcher');\nthemeSwitcher.addEventListener('change', changeTheme);\n\nfunction changeTheme() {\n  document.body.classList.toggle('light-theme');\n  isDark = !isDark;\n}\n","const menuBtn = document.querySelector('.menu-btn');\nconst headerMenu = document.querySelector('.header__menu');\n\nmenuBtn.addEventListener('click', addClass);\n\nfunction addClass() {\n  headerMenu.classList.add('active');\n  document.body.classList.add('lock');\n  document.body.addEventListener('click', removeClass);\n}\n\nfunction removeClass(e) {\n  if (e.target.nodeName === 'BUTTON') {\n    return;\n  }\n  if (e.target.nodeName !== 'NAV' && e.target.nodeName !== 'LI') {\n    headerMenu.classList.remove('active');\n    document.body.classList.remove('lock');\n    document.body.removeEventListener('click', removeClass);\n  }\n}\n"],"names":["$1911251cde969b7b$var$catalogEl","document","querySelector","$1911251cde969b7b$var$buttonCloseEl","$1911251cde969b7b$var$backdropEl","$1911251cde969b7b$var$modalBodyEl","$1911251cde969b7b$var$bodyEl","body","console","log","addEventListener","e1","targetEl","target","id","parentElement","dataset","fetch","method","headers","accept","Authorization","then","response","ok","Error","status","json","markup","innerHTML","$1911251cde969b7b$var$updateCardModal","genres","overview","poster_path","popularity","vote_average","vote_count","title","$1911251cde969b7b$var$createMarkupCardModal","catch","err","error","$1911251cde969b7b$var$onGetInfoFilm","classList","contains","remove","add","onCloseBackdrop","e","removeEventListener","window","onCloseEsc","code","$0b55604fa480ff0f$var$isDark","toggle","$b72a303201233096$var$menuBtn","$b72a303201233096$var$headerMenu","$b72a303201233096$var$removeClass","nodeName"],"version":3,"file":"library.bca05b4e.js.map"}